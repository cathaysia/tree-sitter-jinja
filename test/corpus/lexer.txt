===========
basic
===========

Hello {{ name }}!

---

(source
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition))

=============
loop
=============

<ul>
{% for item in sequence %}
    <li>{{ item }}</li>
{% endfor %}
</ul>

----

(source
  (definition)
  (definition)
  (definition)
  (definition)
  (definition
    (control
      (statement
        (for_expression
          (identifier)
          (expression
            (binary_expr
              (unary_expr
                (primary_expr
                  (field_expression
                    (identifier))))))))))
  (definition)
  (definition)
  (definition)
  (definition)
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition
    (control
      (statement)))
  (definition)
  (definition)
  (definition)
  (definition)
  (definition))

============
operator
============

{{ (!a + b) * (c - d) / e % f // g ~ h }}

----

(source
  (definition
    (render_expression
      (expression
        (binary_expr
          (binary_expr
            (binary_expr
              (binary_expr
                (binary_expr
                  (binary_expr
                    (unary_expr
                      (primary_expr
                        (expression
                          (binary_expr
                            (binary_expr
                              (unary_expr
                                (unary_operator)
                                (unary_expr
                                  (primary_expr
                                    (field_expression
                                      (identifier))))))
                            (binary_operator)
                            (unary_expr
                              (primary_expr
                                (field_expression
                                  (identifier)))))))))
                  (binary_operator)
                  (unary_expr
                    (primary_expr
                      (expression
                        (binary_expr
                          (binary_expr
                            (unary_expr
                              (primary_expr
                                (field_expression
                                  (identifier)))))
                          (binary_operator)
                          (unary_expr
                            (primary_expr
                              (field_expression
                                (identifier)))))))))
                (binary_operator)
                (unary_expr
                  (primary_expr
                    (field_expression
                      (identifier)))))
              (binary_operator)
              (unary_expr
                (primary_expr
                  (field_expression
                    (identifier)))))
            (binary_operator)
            (unary_expr
              (primary_expr
                (field_expression
                  (identifier)))))
          (binary_operator)
          (unary_expr
            (primary_expr
              (field_expression
                (identifier)))))))))

===========
whitespace
===========

foo {{- bar -}} baz {{ blah }} blub
foo {#- comment -#} baz {# blah #} blub

-----

(source
  (definition)
  (definition)
  (definition)
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition)
  (definition)
  (definition)
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (comment)
  (definition)
  (definition)
  (definition)
  (comment)
  (definition)
  (definition)
  (definition)
  (definition))

================
single bracket
================

{foo} foo {bar}

----

(source
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition)
  (definition))

==========
literals
==========

{{ true }}
{{ false }}
{{ null }}
{{ 1.0 }}
{{ 1_000.0 }}
{{ 2 }}
{{ 2_000 }}
{{ [1, 2, 3] }}
{{ {"foo": "bar"} }}
{{ -9223372036854775808 }}
{{ -9_223_372_036_854_775_808 }}
{{ -170141183460469231731687303715884105728 }}
{{ 170141183460469231731687303715884105727 }}
{{ 340282366920938463463374607431768211455 }}
{{ 0b1111 }}
{{ 0B1001 }}
{{ 0o777 }}
{{ 0O777 }}
{{ 0O7_77 }}
{{ 0xdeadbeef }}
{{ 0XDEADBEEF }}
{{ 0XDEAD_BEEF }}
{{ 1e2 }}
{{ 1e_2 }}
{{ 1_1e+_2 }}
{{ 1_1e-_2 }}

----

(source
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (boolean_literal))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (boolean_literal))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (null_literal))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (float_literal
                  (dec_literal)
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (float_literal
                  (dec_literal)
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (number_literal
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (number_literal
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (list_literal
                  (literal
                    (number_literal
                      (dec_literal)))
                  (literal
                    (number_literal
                      (dec_literal)))
                  (literal
                    (number_literal
                      (dec_literal)))))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (dict_literal
                  (string_literal)
                  (literal
                    (string_literal))))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (number_literal
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (number_literal
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (number_literal
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (number_literal
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (literal
                (number_literal
                  (dec_literal)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (binary_expr
            (unary_expr
              (primary_expr
                (field_expression
                  (identifier)))))
          (binary_operator)
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (binary_expr
            (unary_expr
              (primary_expr
                (field_expression
                  (identifier)))))
          (binary_operator)
          (unary_expr
            (primary_expr
              (field_expression
                (identifier)))))))))

=======
attrs
=======

{# useless comment #}
{{ foo.bar[baz].blah }}
{{ {"foo": "bar"}.test }}
{{ [1, 2, 3].test }}

----

(source
  (comment)
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (field_expression
                  (field_expression
                    (field_expression
                      (identifier))
                    (field_expression
                      (identifier)))
                  (field_expression
                    (identifier)))
                (field_expression
                  (identifier)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (field_expression
                  (dict_literal
                    (string_literal)
                    (literal
                      (string_literal))))
                (field_expression
                  (identifier)))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (field_expression
                  (list_literal
                    (literal
                      (number_literal
                        (dec_literal)))
                    (literal
                      (number_literal
                        (dec_literal)))
                    (literal
                      (number_literal
                        (dec_literal)))))
                (field_expression
                  (identifier))))))))))

=============
block filter
=============

{% for item in seq -%}
  {{ item }}{% endfor %}

------

(source
  (definition
    (control
      (statement
        (for_expression
          (identifier)
          (expression
            (binary_expr
              (unary_expr
                (primary_expr
                  (field_expression
                    (identifier))))))))))
  (definition
    (render_expression
      (expression
        (binary_expr
          (unary_expr
            (primary_expr
              (field_expression
                (identifier))))))))
  (definition
    (control
      (statement))))
